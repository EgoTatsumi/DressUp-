<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head>
    <script src="../static/js/color-modes.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>DressUP · Account information</title>
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">

    <style>
      body {
        background-color: var(--bs-body-bg);
        color: var(--bs-body-color);
      }
      .form-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
      }
      .form-header {
        text-align: center;
        margin-bottom: 2rem;
      }

            .btn-bd-primary {
        --bd-violet-bg: #712cf9;
        --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

        --bs-btn-font-weight: 600;
        --bs-btn-color: var(--bs-white);
        --bs-btn-bg: var(--bd-violet-bg);
        --bs-btn-border-color: var(--bd-violet-bg);
        --bs-btn-hover-color: var(--bs-white);
        --bs-btn-hover-bg: #6528e0;
        --bs-btn-hover-border-color: #6528e0;
        --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
        --bs-btn-active-color: var(--bs-btn-hover-color);
        --bs-btn-active-bg: #5a23c8;
        --bs-btn-active-border-color: #5a23c8;
      }
    </style>
  </head>
  <body class="bg-body-tertiary">
    {% include 'partials/theme_switcher.html' %}
    {% include 'partials/navbar.html' %}

    <div class="container">
      <main>
        <div class="form-container">
          <div class="form-header">
            <h2>Account Information</h2>
            <p class="lead">Please fill in your details</p>
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
              {% endif %}
            {% endwith %}
          </div>

          <form class="needs-validation" method="POST" novalidate>
            <div class="row g-3">
              <!-- Имя -->
              <div class="col-md-6">
                <label for="firstName" class="form-label">First name</label>
                <input type="text" class="form-control" id="firstName" name="firstName"
                       value="{{ user.first_name if user else '' }}" placeholder="Your first name" required>
                <div class="invalid-feedback">
                  Please enter your first name.
                </div>
              </div>

              <!-- Фамилия -->
              <div class="col-md-6">
                <label for="lastName" class="form-label">Last name</label>
                <input type="text" class="form-control" id="lastName" name="lastName"
                       value="{{ user.last_name if user else '' }}" placeholder="Your last name" required>
                <div class="invalid-feedback">
                  Please enter your last name.
                </div>
              </div>

              <!-- Город -->
              <div class="col-12">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" id="city" name="city"
                       value="{{ user.city if user else '' }}" placeholder="Your city" required>
                <div class="invalid-feedback">
                  Please enter your city.
                </div>
              </div>

              <!-- Адрес -->
              <div class="col-12">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" id="address" name="address"
                       value="{{ user.address if user else '' }}" placeholder="Street and house number" required>
                <div class="invalid-feedback">
                  Please enter your address.
                </div>
              </div>

              <!-- Почта -->
              <div class="col-12">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email"
                       value="{{ user.email if user else '' }}" placeholder="you@example.com" required>
                <div class="invalid-feedback">
                  Please enter a valid email address.
                </div>
              </div>

              <!-- Телефон -->
              <div class="col-12">
                <label for="phone" class="form-label">Phone number</label>
                <input type="tel" class="form-control" id="phone" name="phone"
                       value="{{ user.phone if user else '' }}" placeholder="+1234567890" required>
                <div class="invalid-feedback">
                  Please enter your phone number.
                </div>
              </div>
            </div>

            <hr class="my-4">

            <button class="w-100 btn btn-primary btn-lg" type="submit">Save changes</button>
          </form>
        </div>
      </main>
    </div>

    <script src="../static/js/bootstrap.bundle.min.js"></script>
    <script>
      (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms)
          .forEach(function (form) {
            form.addEventListener('submit', function (event) {
              if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
              }

              form.classList.add('was-validated')
            }, false)
          })
      })()
    </script>
  </body>
</html>